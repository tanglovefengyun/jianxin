!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MTpushInterface=t():e.MTpushInterface=t()}(self,(()=>(()=>{var e={452:function(e,t,i){var n;e.exports=(n=i(249),i(269),i(214),i(888),i(109),function(){var e=n,t=e.lib.BlockCipher,i=e.algo,s=[],o=[],r=[],a=[],c=[],u=[],d=[],l=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,s[i]=f,o[f]=i;var m=e[i],g=e[m],b=e[g],w=257*e[f]^16843008*f;r[i]=w<<24|w>>>8,a[i]=w<<16|w>>>16,c[i]=w<<8|w>>>24,u[i]=w,w=16843009*b^65537*g^257*m^16843008*i,d[f]=w<<24|w>>>8,l[f]=w<<16|w>>>16,h[f]=w<<8|w>>>24,p[f]=w,i?(i=m^e[e[e[b^m]]],n^=e[e[n]]):i=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*((this._nRounds=i+6)+1),o=this._keySchedule=[],r=0;r<n;r++)r<i?o[r]=t[r]:(u=o[r-1],r%i?i>6&&r%i==4&&(u=s[u>>>24]<<24|s[u>>>16&255]<<16|s[u>>>8&255]<<8|s[255&u]):(u=s[(u=u<<8|u>>>24)>>>24]<<24|s[u>>>16&255]<<16|s[u>>>8&255]<<8|s[255&u],u^=f[r/i|0]<<24),o[r]=o[r-i]^u);for(var a=this._invKeySchedule=[],c=0;c<n;c++){if(r=n-c,c%4)var u=o[r];else u=o[r-4];a[c]=c<4||r<=4?u:d[s[u>>>24]]^l[s[u>>>16&255]]^h[s[u>>>8&255]]^p[s[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,a,c,u,s)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,d,l,h,p,o),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,s,o,r,a){for(var c=this._nRounds,u=e[t]^i[0],d=e[t+1]^i[1],l=e[t+2]^i[2],h=e[t+3]^i[3],p=4,f=1;f<c;f++){var m=n[u>>>24]^s[d>>>16&255]^o[l>>>8&255]^r[255&h]^i[p++],g=n[d>>>24]^s[l>>>16&255]^o[h>>>8&255]^r[255&u]^i[p++],b=n[l>>>24]^s[h>>>16&255]^o[u>>>8&255]^r[255&d]^i[p++],w=n[h>>>24]^s[u>>>16&255]^o[d>>>8&255]^r[255&l]^i[p++];u=m,d=g,l=b,h=w}m=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^i[p++],g=(a[d>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^i[p++],b=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^i[p++],w=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&l])^i[p++],e[t]=m,e[t+1]=g,e[t+2]=b,e[t+3]=w},keySize:8});e.AES=t._createHelper(m)}(),n.AES)},109:function(e,t,i){var n;e.exports=(n=i(249),i(888),void(n.lib.Cipher||function(e){var t=n,i=t.lib,s=i.Base,o=i.WordArray,r=i.BufferedBlockAlgorithm,a=t.enc,c=(a.Utf8,a.Base64),u=t.algo.EvpKDF,d=i.Cipher=r.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:b}return function(t){return{encrypt:function(i,n,s){return e(n).encrypt(t,i,n,s)},decrypt:function(i,n,s){return e(n).decrypt(t,i,n,s)}}}}()}),l=(i.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),h=i.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=l.CBC=function(){var t=h.extend();function i(t,i,n){var s,o=this._iv;o?(s=o,this._iv=e):s=this._prevBlock;for(var r=0;r<n;r++)t[i+r]^=s[r]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,s=n.blockSize;i.call(this,e,t,s),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+s)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,s=n.blockSize,o=e.slice(t,t+s);n.decryptBlock(e,t),i.call(this,e,t,s),this._prevBlock=o}}),t}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,n=i-e.sigBytes%i,s=n<<24|n<<16|n<<8|n,r=[],a=0;a<n;a+=4)r.push(s);var c=o.create(r,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:p,padding:f}),reset:function(){var e;d.reset.call(this);var t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),i.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?o.create([1398893684,1701076831]).concat(i).concat(t):t).toString(c)},parse:function(e){var t,i=c.parse(e),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),m.create({ciphertext:i,salt:t})}},b=i.SerializableCipher=s.extend({cfg:s.extend({format:g}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var s=e.createEncryptor(i,n),o=s.finalize(t),r=s.cfg;return m.create({ciphertext:o,key:i,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=(t.kdf={}).OpenSSL={execute:function(e,t,i,n){n||(n=o.random(8));var s=u.create({keySize:t+i}).compute(e,n),r=o.create(s.words.slice(t),4*i);return s.sigBytes=4*t,m.create({key:s,iv:r,salt:n})}},v=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:w}),encrypt:function(e,t,i,n){var s=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize);n.iv=s.iv;var o=b.encrypt.call(this,e,t,s.key,n);return o.mixIn(s),o},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var s=n.kdf.execute(i,e.keySize,e.ivSize,t.salt);return n.iv=s.iv,b.decrypt.call(this,e,t,s.key,n)}})}()))},249:function(e,t,i){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==i.g&&i.g.crypto&&(n=i.g.crypto),!n)try{n=i(480)}catch(e){}var s=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),r={},a=r.lib={},c=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=c.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,s=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<s;o++){var r=i[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=r<<24-(n+o)%4*8}else for(var a=0;a<s;a+=4)t[n+a>>>2]=i[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(s());return new u.init(t,e)}}),d=r.enc={},l=d.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var o=t[s>>>2]>>>24-s%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(i,t/2)}},h=d.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var o=t[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(i,t)}},p=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,s=n.words,o=n.sigBytes,r=this.blockSize,a=o/(4*r),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*r,d=e.min(4*c,o);if(c){for(var l=0;l<c;l+=r)this._doProcessBlock(s,l);i=s.splice(0,c),n.sigBytes-=d}return new u.init(i,d)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(a.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new m.HMAC.init(e,i).finalize(t)}}}),r.algo={});return r}(Math),n)},269:function(e,t,i){var n;e.exports=(n=i(249),function(){var e=n,t=e.lib.WordArray;function i(e,i,n){for(var s=[],o=0,r=0;r<i;r++)if(r%4){var a=n[e.charCodeAt(r-1)]<<r%4*2|n[e.charCodeAt(r)]>>>6-r%4*2;s[o>>>2]|=a<<24-o%4*8,o++}return t.create(s,o)}e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var s=[],o=0;o<i;o+=3)for(var r=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<i;a++)s.push(n.charAt(r>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(e){var t=e.length,n=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var o=0;o<n.length;o++)s[n.charCodeAt(o)]=o}var r=n.charAt(64);if(r){var a=e.indexOf(r);-1!==a&&(t=a)}return i(e,t,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},743:function(e,t,i){var n;e.exports=(n=i(249),n.enc.Utf8)},888:function(e,t,i){var n,s,o,r,a,c,u,d;e.exports=(d=i(249),i(783),i(824),s=(n=d).lib,o=s.Base,r=s.WordArray,a=n.algo,c=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,n=this.cfg,s=n.hasher.create(),o=r.create(),a=o.words,c=n.keySize,u=n.iterations;a.length<c;){i&&s.update(i),i=s.update(e).finalize(t),s.reset();for(var d=1;d<u;d++)i=s.finalize(i),s.reset();o.concat(i)}return o.sigBytes=4*c,o}}),n.EvpKDF=function(e,t,i){return u.create(i).compute(e,t)},d.EvpKDF)},824:function(e,t,i){var n,s,o,r;e.exports=(n=i(249),o=(s=n).lib.Base,r=s.enc.Utf8,void(s.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var i=e.blockSize,n=4*i;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),o=this._iKey=t.clone(),a=s.words,c=o.words,u=0;u<i;u++)a[u]^=1549556828,c[u]^=909522486;s.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})))},214:function(e,t,i){var n;e.exports=(n=i(249),function(e){var t=n,i=t.lib,s=i.WordArray,o=i.Hasher,r=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=r.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,s=e[n];e[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var o=this._hash.words,r=e[t+0],c=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],b=e[t+6],w=e[t+7],v=e[t+8],_=e[t+9],y=e[t+10],C=e[t+11],k=e[t+12],S=e[t+13],T=e[t+14],I=e[t+15],E=o[0],x=o[1],N=o[2],O=o[3];E=u(E,x,N,O,r,7,a[0]),O=u(O,E,x,N,c,12,a[1]),N=u(N,O,E,x,p,17,a[2]),x=u(x,N,O,E,f,22,a[3]),E=u(E,x,N,O,m,7,a[4]),O=u(O,E,x,N,g,12,a[5]),N=u(N,O,E,x,b,17,a[6]),x=u(x,N,O,E,w,22,a[7]),E=u(E,x,N,O,v,7,a[8]),O=u(O,E,x,N,_,12,a[9]),N=u(N,O,E,x,y,17,a[10]),x=u(x,N,O,E,C,22,a[11]),E=u(E,x,N,O,k,7,a[12]),O=u(O,E,x,N,S,12,a[13]),N=u(N,O,E,x,T,17,a[14]),E=d(E,x=u(x,N,O,E,I,22,a[15]),N,O,c,5,a[16]),O=d(O,E,x,N,b,9,a[17]),N=d(N,O,E,x,C,14,a[18]),x=d(x,N,O,E,r,20,a[19]),E=d(E,x,N,O,g,5,a[20]),O=d(O,E,x,N,y,9,a[21]),N=d(N,O,E,x,I,14,a[22]),x=d(x,N,O,E,m,20,a[23]),E=d(E,x,N,O,_,5,a[24]),O=d(O,E,x,N,T,9,a[25]),N=d(N,O,E,x,f,14,a[26]),x=d(x,N,O,E,v,20,a[27]),E=d(E,x,N,O,S,5,a[28]),O=d(O,E,x,N,p,9,a[29]),N=d(N,O,E,x,w,14,a[30]),E=l(E,x=d(x,N,O,E,k,20,a[31]),N,O,g,4,a[32]),O=l(O,E,x,N,v,11,a[33]),N=l(N,O,E,x,C,16,a[34]),x=l(x,N,O,E,T,23,a[35]),E=l(E,x,N,O,c,4,a[36]),O=l(O,E,x,N,m,11,a[37]),N=l(N,O,E,x,w,16,a[38]),x=l(x,N,O,E,y,23,a[39]),E=l(E,x,N,O,S,4,a[40]),O=l(O,E,x,N,r,11,a[41]),N=l(N,O,E,x,f,16,a[42]),x=l(x,N,O,E,b,23,a[43]),E=l(E,x,N,O,_,4,a[44]),O=l(O,E,x,N,k,11,a[45]),N=l(N,O,E,x,I,16,a[46]),E=h(E,x=l(x,N,O,E,p,23,a[47]),N,O,r,6,a[48]),O=h(O,E,x,N,w,10,a[49]),N=h(N,O,E,x,T,15,a[50]),x=h(x,N,O,E,g,21,a[51]),E=h(E,x,N,O,k,6,a[52]),O=h(O,E,x,N,f,10,a[53]),N=h(N,O,E,x,y,15,a[54]),x=h(x,N,O,E,c,21,a[55]),E=h(E,x,N,O,v,6,a[56]),O=h(O,E,x,N,I,10,a[57]),N=h(N,O,E,x,b,15,a[58]),x=h(x,N,O,E,S,21,a[59]),E=h(E,x,N,O,m,6,a[60]),O=h(O,E,x,N,C,10,a[61]),N=h(N,O,E,x,p,15,a[62]),x=h(x,N,O,E,_,21,a[63]),o[0]=o[0]+E|0,o[1]=o[1]+x|0,o[2]=o[2]+N|0,o[3]=o[3]+O|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;i[s>>>5]|=128<<24-s%32;var o=e.floor(n/4294967296),r=n;i[15+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(i.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,i,n,s,o,r){var a=e+(t&i|~t&n)+s+r;return(a<<o|a>>>32-o)+t}function d(e,t,i,n,s,o,r){var a=e+(t&n|i&~n)+s+r;return(a<<o|a>>>32-o)+t}function l(e,t,i,n,s,o,r){var a=e+(t^i^n)+s+r;return(a<<o|a>>>32-o)+t}function h(e,t,i,n,s,o,r){var a=e+(i^(t|~n))+s+r;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),n.MD5)},783:function(e,t,i){var n,s,o,r,a,c,u,d;e.exports=(d=i(249),s=(n=d).lib,o=s.WordArray,r=s.Hasher,a=n.algo,c=[],u=a.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],s=i[1],o=i[2],r=i[3],a=i[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var d=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=d<<1|d>>>31}var l=(n<<5|n>>>27)+a+c[u];l+=u<20?1518500249+(s&o|~s&r):u<40?1859775393+(s^o^r):u<60?(s&o|s&r|o&r)-1894007588:(s^o^r)-899497514,a=r,r=o,o=s<<30|s>>>2,s=n,n=l}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+r|0,i[4]=i[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=r._createHelper(u),n.HmacSHA1=r._createHmacHelper(u),d.SHA1)},238:function(e,t,i){var n;!function(s,o){"use strict";var r="function",a="undefined",c="object",u="string",d="major",l="model",h="name",p="type",f="vendor",m="version",g="architecture",b="console",w="mobile",v="tablet",_="smarttv",y="wearable",C="embedded",k="Amazon",S="Apple",T="ASUS",I="BlackBerry",E="Firefox",x="Google",N="Huawei",O="LG",A="Microsoft",M="Motorola",D="Opera",P="Samsung",B="Sharp",R="Sony",U="Xiaomi",z="Zebra",F="Facebook",j="Chromium OS",L="Mac OS",W=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},H=function(e,t){return typeof e===u&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},q=function(e,t){for(var i,n,s,a,u,d,l=0;l<t.length&&!u;){var h=t[l],p=t[l+1];for(i=n=0;i<h.length&&!u&&h[i];)if(u=h[i++].exec(e))for(s=0;s<p.length;s++)d=u[++n],typeof(a=p[s])===c&&a.length>0?2===a.length?typeof a[1]==r?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3===a.length?typeof a[1]!==r||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):o:this[a[0]]=d?a[1].call(this,d,a[2]):o:4===a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):o):this[a]=d||o;l+=2}},K=function(e,t){for(var i in t)if(typeof t[i]===c&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(H(t[i][n],e))return"?"===i?o:i}else if(H(t[i],e))return"?"===i?o:i;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[m,[h,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo Browser"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure Browser"],m],[/\bfocus\/([\w\.]+)/i],[m,[h,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[m,[h,E]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 Browser"]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 Browser"],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,"Samsung Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,F],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,"Chrome WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,m],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,V]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[f,P],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[f,P],[p,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[f,S],[p,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[f,S],[p,v]],[/(macintosh);/i],[l,[f,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[f,B],[p,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[f,N],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[f,N],[p,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[f,U],[p,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[f,U],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[f,"OPPO"],[p,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[f,"Vivo"],[p,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[l,[f,"Realme"],[p,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[f,M],[p,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[f,M],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[f,O],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[f,O],[p,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[f,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[f,"Nokia"],[p,w]],[/(pixel c)\b/i],[l,[f,x],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[f,x],[p,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[f,R],[p,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[f,R],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[f,"OnePlus"],[p,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[f,k],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[f,k],[p,w]],[/(playbook);[-\w\),; ]+(rim)/i],[l,f,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[f,I],[p,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[f,T],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[f,T],[p,w]],[/(nexus 9)/i],[l,[f,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[l,/_/g," "],[p,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[f,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[f,"Meizu"],[p,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[l,[f,"Ulefone"],[p,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,l,[p,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,l,[p,v]],[/(surface duo)/i],[l,[f,A],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[f,"Fairphone"],[p,w]],[/(u304aa)/i],[l,[f,"AT&T"],[p,w]],[/\bsie-(\w*)/i],[l,[f,"Siemens"],[p,w]],[/\b(rct\w+) b/i],[l,[f,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[f,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[f,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[f,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[l,[f,"NuVision"],[p,v]],[/\b(k88) b/i],[l,[f,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[l,[f,"ZTE"],[p,w]],[/\b(gen\d{3}) b.+49h/i],[l,[f,"Swiss"],[p,w]],[/\b(zur\d{3}) b/i],[l,[f,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[l,[f,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],l,[p,v]],[/\b(ns-?\w{0,9}) b/i],[l,[f,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[f,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],l,[p,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],l,[p,w]],[/\b(ph-1) /i],[l,[f,"Essential"],[p,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[f,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[l,[f,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[l,[f,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[l,[f,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[f,l,[p,w]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[f,A],[p,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[f,z],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[f,z],[p,w]],[/smart-tv.+(samsung)/i],[f,[p,_]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[f,P],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,O],[p,_]],[/(apple) ?tv/i],[f,[l,"Apple TV"],[p,_]],[/crkey/i],[[l,"Chromecast"],[f,x],[p,_]],[/droid.+aft(\w+)( bui|\))/i],[l,[f,k],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[f,B],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[l,[f,R],[p,_]],[/(mitv-\w{5}) bui/i],[l,[f,U],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[f,l,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,G],[l,G],[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,l,[p,b]],[/droid.+; (shield) bui/i],[l,[f,"Nvidia"],[p,b]],[/(playstation [345portablevi]+)/i],[l,[f,R],[p,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[f,A],[p,b]],[/((pebble))app/i],[f,l,[p,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[f,S],[p,y]],[/droid.+; (glass) \d/i],[l,[f,x],[p,y]],[/droid.+; (wt63?0{2,3})\)/i],[l,[f,z],[p,y]],[/(quest( 2| pro)?)/i],[l,[f,F],[p,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,C]],[/(aeobc)\b/i],[l,[f,k],[p,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[l,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,w]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[m,K,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,K,J],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,L],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,"Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,j],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},$=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof $))return new $(e,t).getResult();var i=typeof s!==a&&s.navigator?s.navigator:o,n=e||(i&&i.userAgent?i.userAgent:""),d=i&&i.userAgentData?i.userAgentData:o,l=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(X,t):X,h=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,q.call(t,n,l.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,h&&i&&i.brave&&typeof i.brave.isBrave==r&&(t.name="Brave"),t},this.getCPU=function(){var e={};return e.architecture=o,q.call(e,n,l.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,q.call(e,n,l.device),h&&!e.type&&d&&d.mobile&&(e.type=w),h&&"Macintosh"==e.model&&i&&typeof i.standalone!==a&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e.model="iPad",e.type=v),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,q.call(e,n,l.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,q.call(e,n,l.os),h&&!e.name&&d&&"Unknown"!=d.platform&&(e.name=d.platform.replace(/chrome os/i,j).replace(/macos/i,L)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>500?G(e,500):e,this},this.setUA(n),this};$.VERSION="1.0.37",$.BROWSER=W([h,m,d]),$.CPU=W([g]),$.DEVICE=W([l,f,p,b,w,_,v,y,C]),$.ENGINE=$.OS=W([h,m]),typeof t!==a?(e.exports&&(t=e.exports=$),t.UAParser=$):i.amdO?(n=function(){return $}.call(t,i,t,e))===o||(e.exports=n):typeof s!==a&&(s.UAParser=$);var Z=typeof s!==a&&(s.jQuery||s.Zepto);if(Z&&!Z.ua){var Q=new $;Z.ua=Q.getResult(),Z.ua.get=function(){return Q.getUA()},Z.ua.set=function(e){Q.setUA(e);var t=Q.getResult();for(var i in t)Z.ua[i]=t[i]}}}("object"==typeof window?window:this)},480:()=>{}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};return(()=>{"use strict";i.d(n,{default:()=>ze});var e=i(214),t=i.n(e),s=i(269),o=i.n(s),r=i(743),a=i.n(r),c=i(783),u=i.n(c),d=i(452),l=i.n(d);function h(e){return function(e){const t=e.length,i=new Uint8Array(t);for(let n=0,s=t;n<s;++n)i[n]=e.charCodeAt(n);return i}(function(e,t=!1){return t?atob(e):a().stringify(o().parse(e))}((e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),!0))}function p(e){return m((t=e,String.fromCharCode.apply(null,Array.from(new Uint8Array(t)))),!0);var t}function f(e,t){var i,n;"object"==typeof t&&(t=JSON.parse(JSON.stringify(t))),null===(n=null===(i=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===i?void 0:i.controller)||void 0===n||n.postMessage({code:e,msg:t})}function m(e,t=!1){return"string"!=typeof e&&(e=JSON.stringify(e)),t?btoa(e):o().stringify(a().parse(e))}function g(e){return a().parse("string"!=typeof e?JSON.stringify(e):e)}function b(e){return u()(e).toString()}function w(e,i,n){n=n||"";const s=function(){let e="";for(let t=0;t<16;t++)e+=Math.floor(16*Math.random()).toString(16);return e}(),r=function(e,t,i="iop203040506aPk!"){return l().encrypt("string"==typeof e?o().parse(e):e,g(t),{iv:g(i)})}(m(n),s).ciphertext;var a,c;return{authorization:m(e+":"+b(e+(a=i,t()(a).toString())+b(r))+":"+s),body:(c=r,h(o().stringify(c))).buffer}}function v(e,t="POST",i,n,s="json"){var o;const r=n||{};const a=Object.assign({cache:"no-cache",headers:{},redirect:"follow",mode:"cors"},{method:t}),c=Object.assign(a,r);if(c.method=null===(o=c.method)||void 0===o?void 0:o.toUpperCase(),"GET"===c.method){if(i){let t="";const n=/([?&])_=[^&]*/,s=/\?/;"object"==typeof i&&(t=function(e){let t="";for(const i in e)e.hasOwnProperty(i)&&(t+=i+"="+encodeURIComponent(e[i])+"&");return t.slice(0,-1)}(i)),e=n.test(e)?e.replace(n,"$1"+t):e+(s.test(e)?"&":"?")+t}}else[FormData,ArrayBuffer,Blob].filter((e=>i instanceof e)).length>0?c.body=i:(c.headers=Object.assign({"Content-Type":"application/json"},c.headers),i&&(c.body="string"==typeof i?i:JSON.stringify(i)));return fetch(e,c).then((e=>{const{status:t}=e;if(t>=200&&t<400){let t;switch(s){case"json":t=new Promise((t=>{e.text().then((e=>{try{t(JSON.parse(e))}catch(i){t(e)}}))}));break;case"text":t=e.text();break;case"blob":t=e.blob();break;case"arraybuffer":t=e.arrayBuffer();break;default:t=e.json()}return t}return Promise.reject(e)})).catch((e=>Promise.reject(e)))}const _={get:(e,t,i,n)=>v(e,"GET",t,i,n),post:(e,t,i,n)=>v(e,"POST",t,i,n),put:(e,t,i,n)=>v(e,"PUT",t,i,n),delete:(e,t,i,n)=>v(e,"DELETE",t,i,n),fetch:v},y={uid:"",passwd:""};function C(e,t){return y.uid=e,y.passwd=t,y}function k(e,t,i){if(y.uid&&y.passwd){const n=w(y.uid,y.passwd,i);return _[t](e,n.body,{headers:{Authorization:"Basic "+n.authorization}})}return Promise.reject("Uid or passwd is empty")}const S={post:(e,t)=>k(e,"post",t),put:(e,t)=>k(e,"put",t),delete:(e,t)=>k(e,"delete",t)},T="webpushinfoData",I="webPushTable";function E(e){const t=indexedDB.open(T);t.onupgradeneeded=function(e){var t;const i=null===(t=e.target)||void 0===t?void 0:t.result;if(!i.objectStoreNames.contains(I)){i.createObjectStore(I,{keyPath:"id"}).createIndex("name","name",{unique:!1})}},t.onerror=function(){},t.onsuccess=function(){e(t.result)}}function x(e=T){const t=indexedDB.deleteDatabase(e);t.onsuccess=function(){},t.onerror=function(){}}let N={baseUrl:{centerUrl:"https://global-websis.engagelab.com/v1/get-webaddr",prefix:".produce.min.3.3.2.js",version:"3.3.2",URL_POLLING:"",development:!1}.baseUrl,reportUrl:{centerUrl:"https://global-websis.engagelab.com/v1/get-webaddr",prefix:".produce.min.3.3.2.js",version:"3.3.2",URL_POLLING:"",development:!1}.reportUrl};function O(e={baseUrl:"",reportUrl:""},t=!1){N=Object.assign({},e),t&&(f(9965,N),function(e,t="userInfoData"){E((i=>{const n=i.transaction([I],"readwrite").objectStore(I).put({id:1,name:t,data:e});n.onerror=function(){},n.onsuccess=function(){}}))}(JSON.stringify(N)))}function A(){const e=N.baseUrl+"/v2/";return Object.assign(Object.assign({},N),{subscribeSuccess:e+"subscribe",auth:N.baseUrl+"/v1/auth",option:e+"notification_subscribe",tagalias:e+"webdevices",unsubscribe:e+"unsubscribe",safariSubscribe:e+"safari/subscribe",updateTag:N.baseUrl+"/v2/set/webdevices",tagList:N.baseUrl+"/v2/get/webdevices"})}function M(){var e;const t=(null===(e=ve.data)||void 0===e?void 0:e.website_push_id)||"web.cn.jiguang";return{data:window.safari.pushNotification.permission(t),id:t}}function D(e,t){S.post(e,{endpoint:t.endpoint,keys:{p256dh:p(t.getKey("p256dh")),auth:p(t.getKey("auth"))}})}const P={SDK_VERSION:"3.3.2",LOG_TAG_PREFIX:"[MTush-P]",REQUEST:{WS_SUPPORT:!0,WS_HEART_BEAT:5e4,WS_RECONNECT_PERIOD:1e4,WS_RESP_TIMEOUT:3e4,WS_RETRY_TIMES:3,POLLING_URL:"",POLLING_SUPPORT:!1,POLLING_TIME_OUT:15e3},CMD:{INIT:"init",HEART_BEAT:"heartbeat",MESSAGE_RECIVER:"msgrecv",PUSH:"push",EXPIRED:"expired"},EVENT:{OPEN:"open",MESSAGE:"message",SEND:"send",DISCONNECT:"disconnect",NOT_SUPPORT:"not_supoort"}};var B;function R(e){return"string"!=typeof e||(!e||0==e.length)}function U(){let e=!0;if("undefined"!=typeof window&&window.navigator){if(e=window.navigator.onLine,"boolean"==typeof e)return e;e=!0}return e}!function(e){let t=!1;const i=P.LOG_TAG_PREFIX;e.setDebugMode=function(n){e.d(i,`setDebugMode:${n}`),t=n},e.d=function(e,t){},e.dd=function(e,i){t&&"undefined"!=typeof window&&window.console},e.ww=function(e,t){"undefined"!=typeof window&&window.console},e.ee=function(e,t){"undefined"!=typeof window&&window.console}}(B||(B={}));const z=0,F=1e3,j={INITING:1001,CONFIG_INVALID:1002,INIT_FAILED:1003,INIT_TIME_OUT:1004,NETWORK_ERROR:1005,NOT_SUPPORT:1006};function L(e){let t="";switch(e){case z:t="success";break;case F:t="unknown error";break;case j.INITING:t="initing , please try again later";break;case j.CONFIG_INVALID:t="invalid config";break;case j.INIT_FAILED:t="init failed";break;case j.INIT_TIME_OUT:t="init timeout";break;case j.NETWORK_ERROR:t="network error"}return t}function W(e,t){return{code:e,message:L(e),content:t}}class H{constructor(e){this.success=e.success,this.fail=e.fail}onSuccess(e){this.success&&"function"==typeof this.success&&this.success(e)}onFail(e){this.fail&&"function"==typeof this.fail&&this.fail(e)}}var V;!function(e){e[e.Initial=0]="Initial",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed"}(V||(V={}));class G extends class{constructor(){this.sConnectionState=V.Initial}getConnectState(){return this.sConnectionState}}{constructor(e){super(),this.mUrl=e}connect(){B.d("WebSocketConnection",`${location.hostname} try to connect websocket:${this.mUrl}`),this.mWebSocket=new WebSocket(this.mUrl),this.mWebSocket.onopen=this.onOpen.bind(this),this.mWebSocket.onclose=this.onClose.bind(this),this.mWebSocket.onmessage=this.onMessage.bind(this)}disconnect(){this.mWebSocket.close()}onOpen(e){this.onopen(e)}onMessage(e){this.onmessage(e)}onClose(e){this.onclose(e)}sendMessage(e){this.mWebSocket.send(e)}getConnectState(){if(this.mWebSocket)switch(this.mWebSocket.readyState){case WebSocket.CLOSED:this.sConnectionState=V.Closed;break;case WebSocket.CLOSING:this.sConnectionState=V.Closing;break;case WebSocket.CONNECTING:this.sConnectionState=V.Connecting;break;case WebSocket.OPEN:this.sConnectionState=V.Connected}return this.sConnectionState}}const q="ConnectionController";class K{constructor(e=""){this.mAutoDiscon=!0,this.mDataCache="",this.url="",this._onOpen=this._onOpen.bind(this),this._onMessage=this._onMessage.bind(this),this._onClose=this._onClose.bind(this),this.sendMessage=this.sendMessage.bind(this),this.setupConnection=this.setupConnection.bind(this),this.url=e}setupConnection(){P.REQUEST.WS_SUPPORT&&"undefined"!=typeof WebSocket?(this.mConnection=new G(this.url||"ws://"+A().baseUrl.split("//")[1]),this.mConnection.onopen=this._onOpen,this.mConnection.onmessage=this._onMessage,this.mConnection.onclose=this._onClose,this.mAutoDiscon=!0,B.dd(q,"start connecting"),this.mConnection.connect()):this.onEvent({name:P.EVENT.NOT_SUPPORT})}_isConnect(){return this.mConnection&&(this.mConnection.getConnectState()===V.Connected||this.mConnection.getConnectState()===V.Connecting)}_onOpen(e){B.dd(q,"connection is opened"),this._sendEvent(P.EVENT.OPEN,e.event),this.sendMessage(this.mDataCache)}_onMessage(e){B.d(q,"connection is receive message"),this._sendEvent(P.EVENT.MESSAGE,e.data)}_onClose(e){B.dd(q,"connection close "+(this.mAutoDiscon?"auto":"manually")),this.mAutoDiscon&&this._scheduleReConnect(),this._sendEvent(P.EVENT.DISCONNECT,e)}_sendEvent(e,t){this.onEvent&&this.onEvent({name:e,data:t})}sendMessage(e){R(e)||(this.mConnection.getConnectState()===V.Connected?(this.mConnection.sendMessage(e),this.mDataCache="",this._sendEvent(P.EVENT.SEND,e)):this.mDataCache=e)}_scheduleReConnect(){var e;(e=P.REQUEST.WS_RECONNECT_PERIOD,new Promise((t=>setTimeout(t,e)))).then((()=>{this.mAutoDiscon&&(U()?(B.dd(q,"do reconnect"),this.setupConnection()):this._scheduleReConnect())}))}disconnect(){B.d(q,"disconnect"),this.mAutoDiscon=!1,this._isConnect()&&this.mConnection.disconnect()}reConnect(){B.d(q,"reconnect"),this.mAutoDiscon=!0,this._isConnect()?this.mConnection.disconnect():this.setupConnection()}}class J{constructor(e){this.mInitConfig=e}setCmd(e){return this.mCmd=e,this}setSid(e){return this.mSid=e,this}setUserInfo(e){return this.mUserInfo=e,this}setPushMsgArray(e){return this.mMsgArr=e,this}build(){let e;switch(this.mCmd){case P.CMD.INIT:e=this.mInitConfig.auth;break;case P.CMD.HEART_BEAT:e={r:this.mUserInfo.regid,u:this.mInitConfig.auth.is_temporary};break;case P.CMD.MESSAGE_RECIVER:e={r:this.mUserInfo.regid,m:this.mMsgArr.map((e=>e.msg_id))}}let t=0;this.mSid?t=this.mSid+2:(t=J.sid,J.sid>1e8?J.sid=0:J.sid=J.sid+4);return{cmd:this.mCmd,sid:t,time:Math.round(Date.now()/1e3),body:e?JSON.stringify(e):""}}}J.sid=0;const X="Channel";class ${constructor(){this.mDataCache={},this.mMsgChache={}}init(e){this.mInitConfig=e,this.mConnectionController||(this.mConnectionController=new K(e.webSocketUrl),this.mConnectionController.onEvent=this.onEvent.bind(this)),this.mConnectionController.setupConnection()}onEvent(e){if(B.d(X,"onEvent:"+e.name),e.name==P.EVENT.DISCONNECT){const e=this,t=Object.keys(e.mDataCache);t.length>0&&t.forEach((t=>{const i=e.mDataCache[t];i&&(i.cleanRespTimeout(),delete e.mDataCache[t])}))}if(e.name==P.EVENT.MESSAGE){const t=JSON.parse(e.data),i=t.cmd;B.dd(X,`---<- cmd:${i}, data:${e.data}`),i==P.CMD.HEART_BEAT&&(t.body=JSON.stringify({code:0}));const n=JSON.parse(t.body);if(i==P.CMD.PUSH){const e=this._filterPushArr(t.sid,n.d);if(!(e.length>0))return;t.body=e}const s=this.mDataCache[t.sid+""];s&&(s.cleanRespTimeout(),delete this.mDataCache[t.sid+""],0!==n.code?s.fail&&s.fail(n):s.hook?s.hook(t,s.success):s.success&&s.success(n)),e.data=t}this.onevent(e)}_filterPushArr(e,t){if(!t)return[];const i=t.map((e=>JSON.parse(e)));this.send(P.CMD.MESSAGE_RECIVER,new J(this.mInitConfig).setCmd(P.CMD.MESSAGE_RECIVER).setSid(e).setUserInfo(this.mUserInfo).setPushMsgArray(i).build());const n=i.map((e=>e.msg_id)),s=this.mMsgChache[this.mUserInfo.regid];let o=[];if(s){for(let e=0;e<n.length;e++){const t=n[e];s.indexOf(t)<0?(s.push(t),o.push(i[e])):B.dd(X,"filter repeat msgid:"+t)}this.mMsgChache[this.mUserInfo.regid]=s}else this.mMsgChache[this.mUserInfo.regid]=n,o=i;return o}send(e,t){B.dd(X,`---\x3e- cmd:${e}, data:${JSON.stringify(t)}`),this.mConnectionController.sendMessage(JSON.stringify(t))}updateUserInfo(e){this.mUserInfo=e}stop(){this.mConnectionController&&this.mConnectionController.disconnect()}reConnect(){this.mConnectionController&&this.mConnectionController.reConnect()}}class Z{constructor(e){this.mChannel=e,this.mTimes=1}setCmd(e){return this.mCmd=e,this}setData(e){return this.mData=e,this}onSuccess(e){return"function"==typeof e&&(this.success=e),this}onFail(e){return"function"==typeof e&&(this.fail=e),this}onTimeout(e){if("function"==typeof e){this.timeout=e;const t=this;this.respTimeoutTaskId=setTimeout((function(){t.respTimeoutTask()}),P.REQUEST.WS_RESP_TIMEOUT)}return this}addHook(e){return"function"==typeof e&&(this.hook=e),this}respTimeoutTask(){if(this.mTimes<P.REQUEST.WS_RETRY_TIMES){this.mChannel.send(this.mCmd,this.mData),this.mTimes++;const e=this;this.respTimeoutTaskId=setTimeout((function(){e.respTimeoutTask()}),P.REQUEST.WS_RESP_TIMEOUT)}else this.timeout&&this.timeout({rid:this.mRid,data:this.mData,response_timeout:!0}),delete this.mChannel.mDataCache[this.mRid];return this}cleanRespTimeout(){return this.respTimeoutTaskId&&clearTimeout(this.respTimeoutTaskId),this}send(){if(this.mCmd&&this.mData)return this.mRid=this.mData.sid+2+"",this.mChannel.send(this.mCmd,this.mData),this.mChannel.mDataCache[this.mRid]=this,this;B.d("MsgBuilder","send failï¼Œevent and data can not empty")}}const Q="MTpushInterface.mtPush";class Y{constructor(){this.mInitStatu=Y.INIT_FAIL,this.mAutoDiscon=!0,this.mIsNeedInit=!1,this.hasOnVisibilityState=!1}init(e,t){if(B.setDebugMode(e.debugMode||!1),this.mInitStatu==Y.INIT_ING)return void t.onFail(W(j.INITING));const i=e.auth,n=i.is_temporary;!i||R(i.appkey)||R(i.random_str)||R(i.signature)||R(i.user_str)||R(n)||"t"!==n&&"n"!==n||!i.timestamp||"number"!=typeof i.timestamp?t.onFail(W(j.CONFIG_INVALID)):(e.is_temporary=n,U()?(B.dd(Q,"action:init - sdkVersion:"+P.SDK_VERSION),this.mInitCallback=t,e.sdkVersion=P.SDK_VERSION,this.mInitConfig=e,this.mChannel||(this.mChannel=new $,this.mChannel.onevent=this._addEventListen.bind(this)),this.mInitStatu==Y.INIT_SUCC?(this.mIsNeedInit=!0,this.stopPush()):(this.mChannel.init(this.mInitConfig),this.mAutoDiscon=!0),this.mInitStatu=Y.INIT_ING):t.onFail(W(j.NETWORK_ERROR)))}_init(){const e=this;new Z(this.mChannel).setCmd(P.CMD.INIT).setData(new J(this.mInitConfig).setCmd(P.CMD.INIT).build()).onSuccess((function(t){e.mInitStatu=Y.INIT_SUCC,e.mUserInfo=t,e.mInitConfig.getInitInfo&&e.mInitConfig.getInitInfo(t),e.mChannel.updateUserInfo(e.mUserInfo),e.mInitCallback&&(e.mInitCallback.onSuccess(W(z)),e.mInitCallback=void 0),e._startHeartBeat(),e._onVisible()})).onFail((function(t){e._initFail(W(j.INIT_FAILED,t))})).onTimeout((function(){e._initFail(W(j.INIT_TIME_OUT))})).send()}_initFail(e){this.stopPush(),this.mInitCallback?(B.ww(Q,"init fail:"+JSON.stringify(e)),this.mInitCallback.onFail(e),this.mInitCallback=void 0):this.mDisconnetFn&&(B.ww(Q,"invalid reconnect,close"),this.mDisconnetFn())}onMsgReceive(e){this.mMsgReceiveFn=e}onExpired(e){this.mExpiredFn=e}onDisconnect(e){this.mDisconnetFn=e}getRegistrationID(){return this.mUserInfo?this.mUserInfo.regid:""}stopPush(){this.mAutoDiscon=!1,J.sid=0,this._stopHearBeat(),this.mChannel&&this.mChannel.stop(),this.mInitStatu=Y.INIT_FAIL,this.mUserInfo=null}_addEventListen(e){if(e){if(B.d(Q,"event:"+e.name),e.name==P.EVENT.NOT_SUPPORT)return this._initFail(W(F,"do not support websocket")),void(this.mInitStatu=Y.INIT_FAIL);if(e.name!=P.EVENT.OPEN){if(e.name==P.EVENT.DISCONNECT){if(J.sid=0,this._stopHearBeat(),this.mIsNeedInit&&!this.mAutoDiscon)return B.dd(Q,"reinit."),this.mChannel.init(this.mInitConfig),this.mIsNeedInit=!1,void(this.mAutoDiscon=!0);if(!this.mUserInfo&&this.mAutoDiscon)return void this._initFail(W(j.NETWORK_ERROR))}if(e.name==P.EVENT.MESSAGE){const t=e.data.cmd;if(t==P.CMD.PUSH){const t=e.data.body;if(this.mMsgReceiveFn)return void this.mMsgReceiveFn({messages:t})}if(t==P.CMD.EXPIRED)return void(this.mExpiredFn&&this.mExpiredFn())}}else this._init()}}_startHeartBeat(){this.mHeartTimeOut&&clearTimeout(this.mHeartTimeOut),this.mHeartTimeOut=setTimeout((()=>{this._heartBeat()}),P.REQUEST.WS_HEART_BEAT)}_heartBeat(){const e=this;new Z(this.mChannel).setCmd(P.CMD.HEART_BEAT).setData(new J(this.mInitConfig).setCmd(P.CMD.HEART_BEAT).setUserInfo(this.mUserInfo).build()).onSuccess((function(){e._startHeartBeat()})).onFail((function(){e._reconnect()})).onTimeout((function(){e._reconnect()})).send()}_reconnect(){B.ww(Q,"wrong heartbeat,try reconnect"),this._stopHearBeat(),this.mChannel.reConnect()}_stopHearBeat(){this.mHeartTimeOut&&(clearTimeout(this.mHeartTimeOut),this.mHeartTimeOut=void 0)}_resetHeartBeat(){this.mHeartTimeOut&&(clearTimeout(this.mHeartTimeOut),this._startHeartBeat())}_onVisible(){const e=this;this.hasOnVisibilityState||"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&new Z(e.mChannel).setCmd("active").setData(new J(e.mInitConfig).setCmd("active").build()).send()}))}}Y.INIT_SUCC="INITSUCC",Y.INIT_ING="INITING",Y.INIT_FAIL="INITFAIL";const ee=new Y,te={init:function(e){try{ee.init(e,new H(e))}catch(t){B.ww(Q,"init failï¼š"+t),e.fail(W(F))}},onMsgReceive:function(e){"function"==typeof e&&(B.dd(Q,"set onMsgReceive"),ee.onMsgReceive(e))},onExpired:function(e){"function"==typeof e&&(B.dd(Q,"set onExpired"),ee.onExpired(e))},onDisconnect:function(e){"function"==typeof e&&(B.dd(Q,"set onDisconnect"),ee.onDisconnect(e))},stopPush:function(){B.dd(Q,"stopPush"),ee.stopPush()},getRegistrationID(){const e=ee.getRegistrationID();return B.dd(Q,"getRegistrationID:"+e),e},mtpush:ee};function ie(e){return e?` style="color:${e};"`:""}const ne={position:"left",title:"",titleColor:"",text:"",textColor:"",confirm:"",confirmColor:"",confirmBgc:"",cancel:"",cancelColor:"",src:""};function se(e){const t=document.createElement("style");t.appendChild(document.createTextNode(e));document.getElementsByTagName("head")[0].appendChild(t)}const oe=["active_launch","active_terminate"];function re(e){const t=Number(localStorage.getItem(e)||"0");return isNaN(t)?0:t}function ae(e,t="",i=!1){var n,s,o,r;if(ve.data&&ve.userOption){const a=ve;let c=!1;if(e.forEach((e=>{const t=(new Date).getTime()/1e3|0;e.type&&oe.includes(e.type)&&(t-re(e.type)<30&&(c=!0),localStorage.setItem(e.type,t.toString())),e.itime=t,e.msg_id&&(e.msg_id=e.msg_id.toString())})),c)return;const u={platform:"b",uid:null===(n=a.data)||void 0===n?void 0:n.uid,app_key:null===(s=a.userOption)||void 0===s?void 0:s.appkey,channel:t,content:e},d="Basic "+btoa((null===(o=a.data)||void 0===o?void 0:o.uid)+":"+(null===(r=a.data)||void 0===r?void 0:r.passwd));return i?{data:u,Authorization:d}:_.post(A().reportUrl||"",u,{headers:{Authorization:d}})}}function ce(e){return(new Date).getTime()/1e3-re(e)|0}function ue(e){se(e.css);try{new Function("option","reqPer","apiVal","dataToolVal","userInfoDataVal","updateVal",e.html)(e.option,e.reqPer,e.api,e.dataTool,e.userInfoData,e.update)}catch(e){}}var de=i(238),le=i.n(de);function he(e,t=!1){const i=document.createElement("div");i.innerHTML=e.content;const n=i.getElementsByTagName("script");if(n.length>0)for(let i=0;i<n.length;i++)if("mt_webpush_script"===n[i].id)try{new Function("messageItemData",n[i].innerHTML)(t?e:null);break}catch(e){}}function pe(e){const t=window.MAInterface;!function i(){t?t.listenNotificationStatus(e):setTimeout((()=>{i()}),1e4)}()}const fe={mtPush:{code:0,msg:""},webPush:{code:0,msg:""}};function me(){return fe.mtPush={INITSUCC:{code:1,msg:"MTpush channel initialization successful!"},INIT_ING:{code:-1,msg:"The MTpush channel is initializing, please try again later!"},INIT_FAIL:{code:0,msg:"MTpush channel initialization failed or stopped!"}}[te.mtpush.mInitStatu]||{code:0,msg:""},JSON.parse(JSON.stringify(fe))}function ge(e,t=(()=>{})){const i=e.visit||0,n=e.delay||0,s=Number(window.localStorage.getItem("subscriptionVisit")||0);s>i-1?n>0?setTimeout(t,1e3*n):t():window.localStorage.setItem("subscriptionVisit",(s+1).toString())}function be(e=(()=>{}),t,i){var n;function s(t,i,n){t<1&&(t=0,i="Web push notifications are not available"),fe.webPush.code=t,fe.webPush.msg=i,e(t,i,n)}let o,r;if((null==ve?void 0:ve.service_worker)&&(null===(n=null==ve?void 0:ve.service_worker)||void 0===n?void 0:n.enable)){const e=function(e){return e?e.startsWith("/")?e.replace(/^\/+/,""):e.startsWith("./")||e.startsWith("../")?e.replace(/^(?:\.\/|\.{2}\/)+/,""):e:e}(ve.service_worker.main_file_name);r=ve.service_worker.scope,o=ve.service_worker.path+e}else o=t.swUrl,r=void 0;!function(e=(()=>{}),t,i){const n=i?{scope:i}:void 0;null!=window.PushManager||null!=navigator.serviceWorker?(t&&t.includes("https://"),"serviceWorker"in navigator?navigator.serviceWorker.register(t||"/sw.produce.min.3.3.2.js",n).then((function(t){const i=t.installing;i?i.addEventListener("statechange",(function(i){var n;"activated"===(null===(n=i.target)||void 0===n?void 0:n.state)&&e(!0,t)})):e(!0,t)})).catch((function(t){e(!1,t)})):e(!1,"ServiceWorker does not support HTTP")):e(!1,"Browser does not support subscription push!")}(((e,n)=>{var o;function r(e,i){1===e?function(e,t,i,n=(()=>{})){var s;let o=!1;if("safari"in window&&"pushNotification"in window.safari){o=!0;const e=M();if(e.data.deviceToken)return n(!0),void S.post(A().safariSubscribe,{appkey:null===(s=ve.userOption)||void 0===s?void 0:s.appkey,device_token:e.data.deviceToken})}e.pushManager?e.pushManager.getSubscription().then((s=>{s?(n(!0),D(i,s)):e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:h(t)}).then((e=>{n(!0),D(i,e)})).catch((e=>{}))})).catch((e=>{n(!1,e)})):n(o)}(n,t.VAPIDPublicKey,A().subscribeSuccess,(t=>{let n=-6,o="Message subscription failed!";t&&(n=0,o="Message subscription successful!"),s(e+n,i+o)})):s(e,i)}function a(){!function(e=Ce){var t;let i="web.cn.jiguang";const n=ve.userOption,s=((null==n?void 0:n.safari_url)||A().baseUrl)+"/webpush";function o(){const e=M(),t=e.data;i=e.id,r(t)}function r(t){var n,a;"default"===t.permission?(ae([{type:"ntf_status",result:0,manufacturer:ye.browser.name,lang:ve.lan}]),window.safari.pushNotification.requestPermission(s,i,{appkey:null===(n=ve.userOption)||void 0===n?void 0:n.appkey,uid:null===(a=ve.data)||void 0===a?void 0:a.uid.toString(),origin:location.origin},r)):(document.body.removeEventListener("click",o),ke(t.permission,e),pe({notification_status:"denied"!==t.permission}),"denied"===t.permission?ae([{type:"ntf_status",result:2,manufacturer:ye.browser.name,lang:ve.lan}]):ae([{type:"ntf_status",result:1,manufacturer:ye.browser.name,lang:ve.lan}]))}if(Se())try{o()}catch(e){document.body.addEventListener("click",o)}else ae([{type:"ntf_status",result:0,manufacturer:ye.browser.name,lang:ve.lan}]),null===(t=Notification.requestPermission())||void 0===t||t.then((function(t){ke(t,e),pe({notification_status:"denied"!==t}),"denied"===t?(ae([{type:"ntf_status",result:2,manufacturer:ye.browser.name,lang:ve.lan}]),S.post(A().unsubscribe)):ae([{type:"ntf_status",result:1,manufacturer:ye.browser.name,lang:ve.lan}])}))}(((e,t)=>{r(e,t)}))}e?(null===(o=navigator.serviceWorker.controller)||void 0===o||o.postMessage({type:"SET_OPEN_URL",value:{openUrl:ve.openUrl||window.location.origin||""}}),Te(((e,t)=>{3!==e&&setTimeout((()=>{ae([{type:"ntf_status",result:e,manufacturer:_e.browser.name,lang:ve.lan}])}),2e3),1===e?r(e,t):3===e?S.post(A().option,{appkey:i.appkey}).then((e=>{const t=e.subscribe_config||{};if(2===e.subscribe_type)if(t.html){ue({option:t,reqPer:a,api:A,dataTool:S,userInfoData:ve,html:t.html,update:!1,css:t.css})}else{const e=function(e,t=(()=>{}),i=(()=>{})){const n=Object.assign(ne,e);n.position={left:"left:0",center:"left:50%;transform:translate(-50%,0)",right:"right:0"}[e.position]||"left:0";let s=(n.confirmColor?`color:${n.confirmColor};`:"")+(n.confirmBgc?`background-color:${n.confirmBgc};`:"");s=s?` style="${s}"`:"";const o=`<img src="${n.src||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAh1BMVEUAAAAsa/8sbP9FXP8lYf8sa/8sa/8ra/8sa/8ra/8sa/8sa/8sa/8sa/8sa/8sa/8rZf8sa/8sa/8sa/8sa/8sa/8sbP8ra/8sa/8sa/8oav8sa/8maP8sa/8rbP8sa/8sa/8sa/8oaP8rbP8sa/8ra/8ra/8ta/8sav8mav8sa/8ra/8taf/cU0AXAAAALXRSTlMA1tMCBMzQPsgzF76Zc25nCrqsW7e0jnpgTB8cDcXBr4BWEKeiY0Y5KhNqUiIjzI9vAAABjUlEQVRIx+2VW3OCMBCFOZAAIje5iYqKeNf+/9/X3RpKsZlOpn3qjN+D2dnk5OSsD1haJqGU4cUyZmGDsE+m5zsfH/iNoeAOFKvlDFgYChIgsqw5cDSN0Dv8GCKo/ESVZygmvaVfBc/nTxR0zYXIS3yy3QnurWnPG5/PeZA3vr3EiJJdbjzkxdOrUdCWk7BwOvcCIQKv3fDBmv/IKRVfPJYucOChtwA29AyF2LFkTtU1A+SQI6TXprTGAEIqBhraAg+jK4Cq717I70Krx9c543BOq6Y1oce+qWb0EKdTup/PjxXkMWPXCohVLwM40JHi0s4zzRrIH/6ZakmA8ggyuFsacrIg4wCQqmPDpYZHBo5OIDYAj9yF3WeQMf/yALW0j9fHMhq198BZLyDvg6ZNEa56wQooNG0XcPSCFPC/dx2oTPqtl+AlMBFELoxwYyWQMMT/ncPfWdaroTBhhnIoTJBAymvHKU3IgFp96g5Gghpwj02XuMDOSCC2UGTCMiJQiuxqGSLyvZT7XFj/g3cZFxJZ+tXnmgAAAABJRU5ErkJggg=="}"/>\n  <h3${ie(n.titleColor)}>${n.title}</h3>\n  <p class="notic-user-tip-data"${ie(n.textColor)}>${n.text}</p>\n  <div class="button-warp">\n    <span class="web-push-tip-cancel" ${ie(n.cancelColor)}>${n.cancel}</span><span class="confirm" ${s}>${n.confirm}</span>\n  </div>`;se(".notic-user-tip-warp {\n  width: 378px;\n  min-height: 134px;\n  background: #ffffff;\n  box-shadow: 0px 24px 24px -6px rgba(37, 48, 68, 0.14), 0px 2px 6px 0px rgba(37, 48, 68, 0.12);\n  border-radius: 4px;\n  position: absolute;\n  padding: 20px 20px 20px 72px;\n  top: 0;\n  z-index: 999;\n}\n.notic-user-tip-warp.notic-user-tip-warp-hide{display:none}\n.notic-user-tip-warp > img {\n  position: absolute;\n  width: 40px;\n  left: 16px;\n  top: 20px;\n}\n.notic-user-tip-warp > h3 {\n  font-size: 14px;\n  color: #000;\n  line-height: 18px;\n  padding-bottom: 2px;\n  font-weight: bolder;\n}\n.notic-user-tip-warp > .notic-user-tip-data {\n  font-size: 14px;\n  line-height: 22px;\n  color: #666;\n  min-height: 44px;\n  overflow: hidden;\n  padding-bottom: 16px;\n  word-spacing: pre-wrap;\n}\n.notic-user-tip-warp > .button-warp {\n  text-align: right;\n}\n.notic-user-tip-warp > .button-warp > span {\n  display: inline-block;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 3px;\n  padding: 0 16px;\n  margin-left: 8px;\n  color: #cccccc;\n  cursor: pointer;\n}\n.notic-user-tip-warp > .button-warp > .confirm {\n  color: #fff;\n  background: #2c6bff;\n}");const r=document.createElement("div");function a(e=!1){e?r.classList.add("notic-user-tip-warp-hide"):r.classList.remove("notic-user-tip-warp-hide")}return r.className="notic-user-tip-warp notic-user-tip-warp-hide",r.style.cssText=n.position,r.innerHTML=o,document.body.appendChild(r),r.addEventListener("click",(e=>{const n=e.target.classList;n.contains("confirm")&&(t(),a(!0)),n.contains("web-push-tip-cancel")&&(i(),a(!0))})),a}(t,a,(()=>{}));ge(t,(()=>{e()}))}else 3===e.subscribe_type?i.custom?i.custom(a):a():ge(t,a)})):s(e,t)}))):s(-2,"ServiceWorker registration failed",n)}),o,r)}function we(){}const ve={data:null,userOption:null,lan:navigator.language,unSubscribe:!1,service_worker:null,openUrl:""},_e=le()(navigator.userAgent);const ye=le()(navigator.userAgent),Ce=(e,t)=>{};function ke(e,t=Ce){switch(e){case"granted":t(1,"Notification available");break;case"denied":t(2,"Notification Permission has been disabled");break;default:t(3,"Notification Permission has not been confirmed yet!")}}function Se(){return"safari"in window&&"pushNotification"in window.safari}function Te(e=Ce){if("undefined"==typeof Notification&&!Se())return void e(0,"Browser does not support Notification API");ke(Se()?M().data.permission:Notification.permission,e)}function Ie(e){return!(!e||1!==e&&3!==e)}const Ee={display:e=>{},click:e=>{}};function xe(e){"click"===e.actionType?Ee.click(e.data):"display"===e.actionType&&Ee.display(e.data)}var Ne;function Oe(e,t,i={}){var n;"Notification"in window&&"granted"===Notification.permission&&(null===(n=navigator.serviceWorker)||void 0===n||n.getRegistration().then((function(n){if(null==n?void 0:n.showNotification)null==n||n.showNotification(e,t),Ee.display(t.data),i&&i.msg_id&&ae([{type:"msg_status",msg_id:i.msg_id,result:3018}],"MTPush");else{const n=new Notification(e,t);Ee.display(t.data),i&&i.msg_id&&ae([{type:"msg_status",msg_id:i.msg_id,result:3018}],"MTPush"),n.addEventListener("click",(()=>{Ee.click(t.data),i&&i.msg_id&&ae([{type:"msg_status",msg_id:i.msg_id,result:3002}],"MTPush");const e=i.url||(null==i?void 0:i.engagelab_url)||ve.openUrl||window.location.origin||"";e&&window.open(e)}))}})))}window.MTpushInterfaceMsgCallback=Ee,window.addEventListener("unload",(()=>{if(ce("active_launch")>0){const e=ae([{type:"active_terminate",duration:ce("active_launch")}],"",!0);e&&f(9999,e)}}));let Ae=()=>{};function Me(e,t){"function"==typeof Ae&&Ae({data:e,type:t})}let De=0;!function e(){setTimeout((()=>{De<20&&(De++,navigator.serviceWorker&&(De=100,navigator.serviceWorker.addEventListener("message",(e=>{var t,i,n,s;((null===(t=e.data.data)||void 0===t?void 0:t.engagelab_uid)||(null===(i=e.data.data)||void 0===i?void 0:i.mtpush_uid))===(null===(n=ve.data)||void 0===n?void 0:n.uid)&&(e.data.actionType?xe(e.data):(Me(e.data,1),Ie(null===(s=e.data.data)||void 0===s?void 0:s.ntf_or_msg)&&xe(Object.assign(Object.assign({},e.data),{actionType:"display"}))))}))),e())}),1e3)}(),te.onMsgReceive((e=>{if(Me(e,0),e.messages&&e.messages.length>0){7===e.messages[0].ntf_or_msg&&(e=>{e.forEach((e=>{he(e,!0)}))})(e.messages);const t=[];e.messages.forEach((e=>{t.push({type:"msg_status",msg_id:e.msg_id,result:3001}),Ie(e.ntf_or_msg)&&Oe(e.title,function(e){var t,i,n,s,o;const r={engagelab_appkey:null===(t=ve.userOption)||void 0===t?void 0:t.appkey,engagelab_passwd:null===(i=ve.data)||void 0===i?void 0:i.passwd,engagelab_uid:null===(n=ve.data)||void 0===n?void 0:n.uid,engagelab_mesg_type:"MTPush",engagelab_m_str:"Exact",engagelab_a_str:"Navigate"},a=Object.assign({},e),c=["content","extras","msg_id","ntf_or_msg","st_web_buttons","strategy"];if(void 0!==e.content){if(a.body=e.content,a.tag=e.msg_id,(null==e?void 0:e.strategy)&&(r.engagelab_m_str=null===(s=e.strategy)||void 0===s?void 0:s.matching,r.engagelab_a_str=null===(o=e.strategy)||void 0===o?void 0:o.action),a.data=Object.assign(Object.assign({engagelab_ntf_or_msg:e.ntf_or_msg},r),{type:e.type,title:e.title,content:e.content,msg_id:e.msg_id}),e.url&&(a.data.engagelab_url=e.url),e.st_web_buttons){const t={},i=[];e.st_web_buttons.forEach((e=>{t[e.id]=e.url;const n={action:e.id,title:e.text};e.icon&&(n.icon=e.icon),i.push(n)})),a.actions=i,a.data.engagelab_action_urls=t}c.forEach((e=>{delete a[e]}))}return a}(Object.assign(Object.assign({},e),{type:0})),e)})),ae(t,"MTPush")}}));const Pe={customClickReport(e,t="MTPush"){ae([{type:"msg_status",msg_id:e,result:3028}],t="W3Push"!==t?"MTPush":t)},init:function(e){function t(t){C(t.uid.toString(),t.passwd),ve.data=t;const i=(new Date).getTimezoneOffset()/-60|0;ae([{type:"oversea_info",time_zone:i>0?"+"+i:i.toString(),lang:ve.lan,contry:"",os:_e.os.name,os_version:_e.os.version,web_channel:_e.browser.name,web_channel_version:_e.browser.version}]),ae([{type:"active_launch"}]),e.canGetInfo&&e.canGetInfo(t),"t"!==e.is_temporary&&function(e,t){be(t.webPushcallback,{VAPIDPublicKey:e.vapid_pubkey,swUrl:t.swUrl},t)}(t,e)}function i(){_.post("https://global-websis.engagelab.com/v1/get-webaddr",{appkey:e.appkey}).then((e=>{e.webgate_addr&&e.webgate_addr.length>0?n({baseUrl:e.webgate_addr[0],reportUrl:e.report_addr},!0):x()}))}function n(n,s=!1){O(n,s);const o=A().baseUrl;ve.userOption=e,e.userLang&&(ve.lan=e.userLang),e.openUrl&&(ve.openUrl=e.openUrl);const r=e.is_temporary||"n";(function(e,t,i,n="n"){return _.get(e,{user_str:t,appkey:i,is_temporary:n})})(A().auth,e.user_str,e.appkey,r).then((i=>{const n=o.split("//");let s="https:"===n[0]?"wss://":"ws://";s+=n[1],ve.service_worker=null==i?void 0:i.service_worker,te.init({webSocketUrl:e.webSocketUrl||s,auth:Object.assign(Object.assign({},i),{is_temporary:r}),success:e.success||we,fail:e.fail||we,getInitInfo(i){var n,s,o,r;e.maOpen&&function(e,t,i,n,s,o){var r;const a="https://websdk-res.engagelab.com/lib/ma-web.min.js";if(!document.getElementById(a)){const e=document.createElement("script");e.async=!0,e.src=a,e.id=a;const t=document.getElementsByTagName("script")[0];null===(r=t.parentNode)||void 0===r||r.insertBefore(e,t)}window.MAInterfaceReady=()=>{window.MAInterface.init({appKey:e,rid:t,debugMode:i,channel:n,appName:s,completion:o})}}(e.appkey,i.regid,null!==(n=e.debugMode)&&void 0!==n&&n,null!==(s=e.maChannel)&&void 0!==s?s:"",null!==(o=e.appName)&&void 0!==o?o:"",null!==(r=e.maCompletion)&&void 0!==r?r:()=>{}),ve.unSubscribe||(!function(){const e=localStorage.getItem("mt_webpush_message_catch");if(e)try{const t=JSON.parse(e);Array.isArray(t)&&t.length>0&&7==t[0].ntf_or_msg&&t[0].msg_id&&he(t[0])}catch(e){}}(),t(i))}})}),(e=>{e.text().then((e=>{const t=JSON.parse(e);400===t.code&&"APPKEY_NOT_FOUND"===t.message&&(x(),i())}))}))}1===me().mtPush.code&&ve.data?t(ve.data):e.report_url&&e.baseUrl?n({baseUrl:e.baseUrl,reportUrl:e.report_url},!0):function(e,t="userInfoData"){E((i=>{try{const n=i.transaction([I],"readonly");n.objectStore(I).index("name").get(t).onsuccess=function(t){t.target.result?e(t.target.result):e({})}}catch(t){x(),e({})}}))}((e=>{const t=JSON.parse(e.data||"{}");t.reportUrl?n(t):i()}))},getPushAuthority:me,getRegistrationID:te.getRegistrationID,getWebPermission:()=>Notification.permission,mtPush:te,onMsgReceive:e=>{Ae=e},webReport:e=>{const t=ae([{type:"msg_status",msg_id:e.msg_id,result:e.code}],"",!0);t&&f(9999,t)},webPush:{displayNotification:Oe,permission:Te,init:be},setTagsAlias(e){function t(e,t){if(e)throw new Error(t)}if(ve.userOption){const i=ve.userOption;return t(!e.tags,"Missing tags attribute"),t(!e.alias,"Missing alias attribute"),t(!!(e.alias&&e.alias.length>40),"Alias can have up to 40 characters"),t(e.tags.length>1e3,"Set up to 1000 tags at a time!"),e.tags.forEach((e=>{t(e.length>40,"Tag can have up to 40 characters!")})),S.post(A().tagalias,Object.assign({temporary:"t"===i.is_temporary,appkey:i.appkey},e))}},unSubscribe:()=>(ve.unSubscribe=!0,S.post(A().unsubscribe)),promptPushCategories(){Te(((e,t)=>{var i;1===e&&S.post(A().option,{appkey:null===(i=ve.userOption)||void 0===i?void 0:i.appkey}).then((e=>{const t=e.subscribe_config||{};if(2===e.subscribe_type&&t.html){ue({option:t,reqPer:()=>{},api:A,dataTool:S,userInfoData:ve,html:t.html,update:!0,css:t.css})}}))}))},onMsgDisplay(e){Ee.display=e},onMsgClick(e){Ee.click=e}},Be={},Re=["webpush_safari_url","msg_id","engagelab_uid","engagelab_appkey","engagelab_passwd","mtpush_uid","mtpush_appkey","mtpush_passwd"];let Ue=0;location.search.slice(1).split("&").forEach((e=>{const t=e.split("=");Re.forEach((e=>{2===t.length&&e===t[0]&&(Ue+=1,Be[e]=t[1])}))})),Ue===Re.length-3&&(xe({data:Object.assign({},Be),actionType:"display"}),xe({data:Object.assign({},Be),actionType:"click"}),f(6666,Object.assign({},Be)),Be.webpush_safari_url?window.location.href=Be.webpush_safari_url:(null===(Ne=window.MTpushInterfaceTempData)||void 0===Ne?void 0:Ne.openUrl)&&(window.location.href=window.MTpushInterfaceTempData.openUrl)),window&&window.MTpushInterfaceReady&&setTimeout((()=>{window.MTpushInterfaceReady()}),3);const ze=Pe})(),n=n.default})()));